{% extends 'base.html.twig' %}

{% set search_form_class = 'search-form' %}
{% set search_form_id = 'search-form' %}
{% set search_form_query_ph = 'VIN | Номер кузова | Номер запчасти' %}

{% block title %}Главная{% endblock %}

{% block body %}
    {{ include('@EasyAdmin/flash_messages.html.twig') }}
    <div class="search-form-container container">
        <h2>IGG Motors</h2>
        {{ form_start(search_form, { 'attr': {'class': 'search-form', 'id': search_form_id} }) }}
            <div class="search-form-wrapper">
                {{ form_widget(search_form.query_string, { 'attr': {'class': 'form-control search-form__query', 'placeholder': search_form_query_ph} }) }}
                <i class="fa-solid fa-magnifying-glass search-form-submit"></i>
            </div>
        {{ form_end(search_form) }}
        <a href="#" class="mt-3 js-show-brands-modal">Поиск по марке/модели</a>
    </div>
{% endblock %}

{% block index_javascripts %}
    <script>

        document.addEventListener('click', function (e) {
            if (e.classList.contains('search-form-submit')) {
                e.preventDefault()
                document.getElementById('{{ search_form_id }}').submit()
            }
        })
    </script>
{% endblock %}
